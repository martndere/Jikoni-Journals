{% extends "base.html" %}
{% load static %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'css/logo_animation.css' %}">
  <style>
      /* Make splash overlay semi-transparent to show background slideshow */
      #splash-overlay {
          background-color: rgba(0, 0, 0, 0.85) !important;
      }
      
      /* Hide main content while splash is active to avoid clutter */
      body.splash-active header,
      body.splash-active footer,
      body.splash-active .hero-section {
          opacity: 0;
          transition: opacity 0.8s ease-in-out;
      }

      /* Glowing effect for headings */
      .hero-sub-section h3 {
          text-shadow: 0 0 10px currentColor, 0 0 20px currentColor;
      }
  </style>
{% endblock %}

{% block content %}
  <!-- Splash Screen Overlay -->
  <div id="splash-overlay">
      <div class="jj-logo-container">
          <div class="jj-logo-text jj-jikoni">Jikoni</div>
          <div class="jj-logo-text jj-journals">Journals</div>
      </div>
      <button id="welcome-btn" onclick="enterSite()">Welcome</button>
      <!-- Sound Effect -->
      <audio id="welcome-sound" src="{% static 'audio/welcome.mp3' %}" preload="auto"></audio>
  </div>

  <!-- Hero Image with Parallax Effect -->
  <div class="hero-section">
    <div class="hero-text">
      <section class="hero-content-section">
        <h2>Your culinary adventure starts here.</h2>
        <p>An immersive guide to local culinary culture</p>

        <div class="hero-sub-section">
          <h3>Welcome to Jikoni Journals!</h3>
          <p>Hi, I'm the creator behind Jikoni Journals. My passion for culinary tourism started years ago when I realized that the best way to understand a culture is through its food.</p>
          <p>From the spices of Zanzibar to the street food of Nairobi, I've curated these experiences to help you explore the world, one plate at a time.</p>
          <p>Feel free to reach out if you have questions about our tours or just want to swap recipes!</p>
        </div>
    
        <div class="hero-sub-section">
          <h3>Book a Culinary Tour</h3>
          <p>Join us for an unforgettable experience, guided by local experts.</p>
          <a href="{% url 'booking_create' %}" role="button" class="secondary">Book Now</a>
        </div>
      </section>
    </div>
  </div>
{% endblock %}

{% block extra_scripts %}
<script>
    // Initialize splash state
    document.addEventListener('DOMContentLoaded', function() {
        document.body.classList.add('splash-active');
    });

    function enterSite() {
        // Play welcome sound
        const audio = document.getElementById('welcome-sound');
        if (audio) {
            audio.play().catch(e => console.log("Audio play failed:", e));
        }
        document.getElementById('splash-overlay').classList.add('splash-hidden');
        document.body.classList.remove('splash-active');
    }
</script>
{% endblock %}